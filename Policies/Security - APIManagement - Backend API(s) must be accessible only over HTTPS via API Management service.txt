{ 
"properties": { 
"displayName": "Azure_APIManagement_DP_Use_HTTPS_URL_Scheme", 
"policyType": "Custom", 
"mode": "All", 
"parameters": { 
"effectType": { 
"type": "String", 
"metadata": { 
"displayName": "Effect", 
"description": "Enable or disable the execution of the policy" 
}, 
"allowedValues": [ 
"Deny", 
"Disabled" 
], 
"defaultValue": "Deny" 
} 
}, 
"policyRule": { 
"if": { 
"allOf": [ 
{ 
"field": "type", 
"equals": "Microsoft.ApiManagement/service" 
}, 
{ 
"field": "Microsoft.ApiManagement/service/apis/protocols[*]", 
"notEquals": "HTTPS" 
} 
] 
}, 
"then": { 
"effect": "[parameters('effectType')]" 
} 
} 
} 
} 